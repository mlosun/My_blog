<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>「少折腾，多记录」 – 1Panel</title>
    <link>https://mlosun.com/tags/1panel/</link>
    <description>Recent content in 1Panel on 「少折腾，多记录」</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Tue, 08 Oct 2024 00:00:00 +0000</lastBuildDate>
    
	  <atom:link href="https://mlosun.com/tags/1panel/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>解决京东轻量云主机 Debian 12.5.0 镜像无法安装 1Panel 的问题</title>
      <link>https://mlosun.com/blog/jdcloud-1panel-error/</link>
      <pubDate>Tue, 08 Oct 2024 00:00:00 +0000</pubDate>
      
      <guid>https://mlosun.com/blog/jdcloud-1panel-error/</guid>
      <description>
        
        
        &lt;blockquote&gt;
&lt;p&gt;本文写于 2024 年 10 月 8 日，后续会将此问题报告给京东云客服，期待解决～&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;情况说明&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;情况说明&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#%e6%83%85%e5%86%b5%e8%af%b4%e6%98%8e&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;自己一直在使用腾讯云。前几个月频繁看到京东云的小广告，了解了一下是价格是真香，于是 50 元/年入手了这台位于宿迁的 2H2G3M 的京东轻量云。&lt;/p&gt;
&lt;p&gt;今天打算重装下系统，安装 1Panel 面板，选择了 Debian 12.5.0 镜像。&lt;/p&gt;
&lt;p&gt;系统重装好后，输入 1Panel 在 Debian 上的一键安装命令后按提示继续，最终出现报错：&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code&#34;&gt;
  

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;E: The repository &lt;span class=&#34;s1&#34;&gt;&amp;#39;cdrom://[Debian GNU/Linux 12.5.0 _Bookworm_ - Official amd64 DVD Binary-1 with firmware 20240210-11:28] bookworm Release&amp;#39;&lt;/span&gt; does not have a Release file.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;E: The repository &lt;span class=&#34;s1&#34;&gt;&amp;#39;http://mirrors.jdcloudcs.com/debian bookworm Release&amp;#39;&lt;/span&gt; no longer has a Release file.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;E: The repository &lt;span class=&#34;s1&#34;&gt;&amp;#39;http://mirrors.jdcloudcs.com/debian-security bookworm-security Release&amp;#39;&lt;/span&gt; no longer has a Release file.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;E: The repository &lt;span class=&#34;s1&#34;&gt;&amp;#39;http://mirrors.jdcloudcs.com/debian bookworm-updates Release&amp;#39;&lt;/span&gt; no longer has a Release file.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1Panel Log&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: docker 安装失败
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;您可以尝试使用离线包进行安装，具体安装步骤请参考以下链接：https://1panel.cn/docs/installation/package_installation/ &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
    &lt;div class=&#34;success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;

  
&lt;/div&gt;
&lt;p&gt;最终导致无法安装 1Panel 面板。&lt;/p&gt;
&lt;h2&gt;尝试解决&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;尝试解决&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#%e5%b0%9d%e8%af%95%e8%a7%a3%e5%86%b3&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;作为技术小白，很庆幸现在 AI 技术的发达，于是向 AI 发起求助。&lt;/p&gt;
&lt;p&gt;AI 告诉我使用命令 &lt;code&gt;nano /etc/apt/sources.list&lt;/code&gt; 编辑软件源列表，将上面的 &lt;code&gt;cdrom&lt;/code&gt; 行注释掉，再将下面三行的的京东云的源换成阿里云（即 &lt;code&gt;jdcloudcs&lt;/code&gt; 换成 &lt;code&gt;aliyun&lt;/code&gt;），再执行 &lt;code&gt;apt-get update&lt;/code&gt; 更新，就可以解决问题。&lt;/p&gt;
&lt;p&gt;手动尝试了下，果然可以了。&lt;/p&gt;
&lt;h2&gt;一键脚本&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;一键脚本&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#%e4%b8%80%e9%94%ae%e8%84%9a%e6%9c%ac&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;不过这个手动修改对于不擅长使用终端编辑文件的我还是有点麻烦的，干脆让 AI 来帮忙写个一键脚本，然后再重装一次系统试了下，完美解决～&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code&#34;&gt;
  

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^deb cdrom/s/^/#/; s/jdcloudcs/aliyun/g&amp;#39;&lt;/span&gt; /etc/apt/sources.list &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get update&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
    &lt;div class=&#34;success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;

  
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;脚本解释：&lt;/p&gt;
&lt;p&gt;这个脚本的作用是对 &lt;code&gt;/etc/apt/sources.list&lt;/code&gt; 文件进行编辑和更新软件包信息。以下是脚本执行的步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;注释掉以 &lt;code&gt;deb cdrom&lt;/code&gt; 开头的行：
使用 &lt;code&gt;sed -i &#39;/^deb cdrom/s/^/#/&#39; /etc/apt/sources.list&lt;/code&gt;，将文件中以 &lt;code&gt;deb cdrom&lt;/code&gt; 开头的行用 &lt;code&gt;#&lt;/code&gt; 注释掉。这一操作使得这些行在包管理时被忽略。&lt;/li&gt;
&lt;li&gt;替换源地址中的 &lt;code&gt;jdcloudcs&lt;/code&gt; 为 &lt;code&gt;aliyun&lt;/code&gt;：
使用 &lt;code&gt;sed -i &#39;s/jdcloudcs/aliyun/g&#39; /etc/apt/sources.list&lt;/code&gt;，将所有包含 &lt;code&gt;jdcloudcs&lt;/code&gt; 的地方替换为 &lt;code&gt;aliyun&lt;/code&gt;。这通常用于更改软件源地址。&lt;/li&gt;
&lt;li&gt;更新软件包索引：
使用 &lt;code&gt;apt-get update&lt;/code&gt; 来更新软件包索引，以便系统知道软件源中的最新软件包信息。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

      </description>
    </item>
    
  </channel>
</rss>
